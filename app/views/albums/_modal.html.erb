<!-- Bootstrap Modal for Album -->
<div class="modal fade" id="albumModal<%= album.id %>" tabindex="-1" aria-labelledby="albumModalLabel<%= album.id %>" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header d-flex justify-content-between align-items-center p-3">
        <h5 class="modal-title fw-bold" id="albumModalLabel<%= album.id %>">
          <%= album.title %>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-0">
        <% if album.photos.any? %>
          <!-- Carousel -->
          <div id="albumCarousel<%= album.id %>" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <% album.photos.each_with_index do |photo, index| %>
                <div class="carousel-item <%= 'active' if index == 0 %>">
                  <div class="col-md-12 d-flex justify-content-center px-2">
                    <%= image_tag photo.image.url, alt: photo.title, 
                                    class: "albums-img-modal d-block w-100 img-fluid" %>
                  </div>
                  <div class="px-2 pt-2">
                    <p class="text-muted mb-2">
                      <%= photo.description %>
                    </p>
                  </div>
                </div>
              <% end %>
            </div>
            <!-- Navigation arrows -->
            <% if album.photos.count > 1 %>
              <button class="carousel-control-prev" type="button" data-bs-target="#albumCarousel<%= album.id %>" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#albumCarousel<%= album.id %>" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            <% end %>
          </div>
        <% else %>
          <div class="p-4 text-center text-muted">
            <i class="fas fa-images fa-3x mb-3"></i>
            <p>No photos in this album yet.</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
